@model Projeto.Users
@using Microsoft.AspNetCore.Http;
@using Newtonsoft.Json;

<!doctype html>
<html lang="pt-br">
<head>

    <link rel="stylesheet" href="~/css/style.css">
    <link rel="stylesheet" href="~/css/cadastro.css">
    <script src="https://kit.fontawesome.com/15068104d6.js" crossorigin="anonymous"></script>


    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- JQuery -->
    <script src="~/js/jquery-3.3.1.min.js"></script>
    <!-- Jquery Mask -->
    <script src="~/js/jquery.mask.min.js"></script>

    <script>


        $(document).ready(function () {
            $("#telefone").mask('(00) 00000-0000');



        })
    </script>

    <p>@TempData["msg"]</p>

    <title>Cadastro</title>
</head>
<body>
    <div class="tela-cadastro">
        <form asp-action="Cadastrar">
            <h1>Cadastre-se</h1>

            @{

                if (Context.Session.GetString("user") != null)
                {
                    Users user = JsonConvert.DeserializeObject<Users>(Context.Session.GetString("user"));

                    if (user.Tipo == "adm")
                    {
                        <div class="form-group">
                            <label asp-for="Tipo" class="control-label"></label>
                            <input asp-for="Tipo" class="form-control" />
                            <span asp-validation-for="Tipo" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="Status" class="control-label"></label>
                            <input asp-for="Status" class="form-control" />
                            <span asp-validation-for="Status" class="text-danger"></span>
                        </div>
                    }
                }

            }

            <p>Nome Completo</p>
            <input type="text" name="nomeCompleto" id="nome" required>
            <br><br>
            <p>E-mail</p>
            <input type="email" name="email" id="login" required>
            <br><br>

            <p>Senha</p>
            <input type="password" name="senha" id="password" required>
            <br><br>

            <p>Telefone</p>
            <input type="text" name="telefone" id="telefone" maxlength="12" required>
            <br><br>

            <p>Endereço</p>
            <input type="text" name="endereco" id="endereco" required>

            <br />  

            <div id="erro"></div>

            <div class="button"><button type="submit" id="enviar">Cadastrar</button></div>

            <p id="aviso">Já tem uma conta?<a asp-controller="Users" asp-action="Login"> Entrar</a></p>
        </form>

    </div>
    </div>
</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="~/js/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

</html>